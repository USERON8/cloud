2025-09-21 20:44:33.341 [background-preinit] INFO  [] org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-09-21 20:44:33.384 [main] INFO  [] com.cloud.user.UserApplication - Starting UserApplication using Java 17.0.14 with PID 1888 (D:\Download\Code\sofware\cloud\user-service\target\classes started by what's up in D:\Download\Code\sofware\cloud\user-service)
2025-09-21 20:44:33.384 [main] INFO  [] com.cloud.user.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-21 20:44:33.411 [main] INFO  [] c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common, group=DEFAULT_GROUP] success
2025-09-21 20:44:34.636 [main] INFO  [] o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-21 20:44:34.638 [main] INFO  [] o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-21 20:44:34.657 [main] INFO  [] o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-09-21 20:44:34.801 [main] INFO  [] o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-09-21 20:44:34.810 [main] INFO  [] o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-09-21 20:44:34.923 [main] INFO  [] o.springframework.cloud.context.scope.GenericScope - BeanFactory id=7beeb313-d1d4-3b80-b92e-af890c205915
2025-09-21 20:44:35.439 [main] INFO  [] o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-09-21 20:44:35.445 [main] INFO  [] org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-09-21 20:44:35.448 [main] INFO  [] org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-09-21 20:44:35.448 [main] INFO  [] org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-09-21 20:44:35.499 [main] INFO  [] o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-21 20:44:35.501 [main] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2085 ms
2025-09-21 20:44:35.999 [main] INFO  [] com.cloud.user.config.UserMessageConfiguration - ✅ 函数式用户消息配置已加载 - RocketMQ集成启用，支持日志服务
2025-09-21 20:44:36.745 [main] WARN  [] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'merchantManageController' defined in file [D:\Download\Code\sofware\cloud\user-service\target\classes\com\cloud\user\controller\merchant\MerchantManageController.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'com.cloud.common.security.PermissionManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-09-21 20:44:36.757 [main] INFO  [] org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-09-21 20:44:36.820 [main] INFO  [] o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-21 20:44:36.838 [main] ERROR [] o.s.b.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.cloud.user.controller.merchant.MerchantManageController required a bean of type 'com.cloud.common.security.PermissionManager' that could not be found.


Action:

Consider defining a bean of type 'com.cloud.common.security.PermissionManager' in your configuration.

2025-09-21 20:44:36.840 [main] ERROR [] com.cloud.user.UserApplication - 用户服务启动失败: Error creating bean with name 'merchantManageController' defined in file [D:\Download\Code\sofware\cloud\user-service\target\classes\com\cloud\user\controller\merchant\MerchantManageController.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'com.cloud.common.security.PermissionManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'merchantManageController' defined in file [D:\Download\Code\sofware\cloud\user-service\target\classes\com\cloud\user\controller\merchant\MerchantManageController.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'com.cloud.common.security.PermissionManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.cloud.user.UserApplication.main(UserApplication.java:33)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.cloud.common.security.PermissionManager' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2284)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
2025-09-21 20:44:36.842 [Thread-5] INFO  [] com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-09-21 20:44:36.842 [Thread-1] INFO  [] c.alibaba.nacos.common.executor.ThreadPoolManager - [ThreadPoolManager] Start destroying ThreadPool
2025-09-21 20:44:36.842 [nacos.publisher-com.alibaba.nacos.client.config.impl.ConfigFuzzyWatchNotifyEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:44:36.842 [nacos.publisher-com.alibaba.nacos.client.config.impl.ConfigFuzzyWatchLoadEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:44:36.842 [Thread-3] INFO  [] c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-09-21 20:44:36.842 [nacos.publisher-com.alibaba.nacos.common.notify.SlowEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:44:36.842 [Thread-5] INFO  [] com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Completed destruction of Publisher
2025-09-21 20:45:36.713 [background-preinit] INFO  [] org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-09-21 20:45:36.749 [main] INFO  [] com.cloud.user.UserApplication - Starting UserApplication using Java 17.0.14 with PID 15344 (D:\Download\Code\sofware\cloud\user-service\target\classes started by what's up in D:\Download\Code\sofware\cloud\user-service)
2025-09-21 20:45:36.750 [main] INFO  [] com.cloud.user.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-21 20:45:36.788 [main] INFO  [] c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common, group=DEFAULT_GROUP] success
2025-09-21 20:45:38.373 [main] INFO  [] o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-21 20:45:38.379 [main] INFO  [] o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-21 20:45:38.433 [main] INFO  [] o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-09-21 20:45:38.869 [main] INFO  [] o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-09-21 20:45:38.881 [main] INFO  [] o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-09-21 20:45:39.115 [main] INFO  [] o.springframework.cloud.context.scope.GenericScope - BeanFactory id=7beeb313-d1d4-3b80-b92e-af890c205915
2025-09-21 20:45:39.975 [main] INFO  [] o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-09-21 20:45:39.988 [main] INFO  [] org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-09-21 20:45:39.989 [main] INFO  [] org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-09-21 20:45:39.989 [main] INFO  [] org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-09-21 20:45:40.055 [main] INFO  [] o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-21 20:45:40.055 [main] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3265 ms
2025-09-21 20:45:40.745 [main] INFO  [] com.cloud.user.config.UserMessageConfiguration - ✅ 函数式用户消息配置已加载 - RocketMQ集成启用，支持日志服务
2025-09-21 20:45:42.890 [main] INFO  [] o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-09-21 20:45:43.199 [main] INFO  [] com.cloud.user.config.UserAsyncConfig - 用户查询线程池初始化完成
2025-09-21 20:45:43.213 [main] INFO  [] com.cloud.user.config.UserAsyncConfig - 用户操作线程池初始化完成
2025-09-21 20:45:43.225 [main] INFO  [] com.cloud.user.config.UserAsyncConfig - 用户服务通用异步线程池初始化完成
2025-09-21 20:45:43.737 [main] INFO  [] c.b.m.e.spring.MybatisPlusApplicationContextAware - Register ApplicationContext instances org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7da31a40
2025-09-21 20:45:43.965 [main] WARN  [] o.s.c.f.c.catalog.BeanFactoryAwareFunctionRegistry - Multiple functional beans were found [logProducer, logConsumer, userProducer], thus can't determine default function definition. Please use 'spring.cloud.function.definition' property to explicitly define it. 
2025-09-21 20:45:44.793 [main] INFO  [] o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-09-21 20:45:44.793 [main] INFO  [] o.s.integration.channel.PublishSubscribeChannel - Channel 'user-service.errorChannel' has 1 subscriber(s).
2025-09-21 20:45:44.793 [main] INFO  [] o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-09-21 20:45:44.793 [main] INFO  [] org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-09-21 20:45:44.802 [main] INFO  [] o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-09-21 20:45:44.806 [main] INFO  [] com.alibaba.nacos.client.naming - Nacos client key init properties: 
	serverAddr=127.0.0.1:8848
	namespace=public
	username=nacos
	password=n***s

2025-09-21 20:45:44.806 [main] INFO  [] com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-09-21 20:45:44.808 [main] INFO  [] com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-09-21 20:45:44.808 [main] INFO  [] com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-09-21 20:45:44.812 [main] INFO  [] com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-09-21 20:45:44.814 [main] INFO  [] c.a.nacos.client.address.AbstractServerListManager - Load and match ServerListProvider com.alibaba.nacos.client.address.EndpointServerListProvider, match result: false
2025-09-21 20:45:44.816 [main] INFO  [] c.a.nacos.client.address.AbstractServerListManager - Load and match ServerListProvider com.alibaba.nacos.client.address.PropertiesListProvider, match result: true
2025-09-21 20:45:44.816 [main] INFO  [] c.a.nacos.client.address.AbstractServerListManager - Will use com.alibaba.nacos.client.address.PropertiesListProvider as ServerListProvider
2025-09-21 20:45:44.817 [main] INFO  [] c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-09-21 20:45:44.817 [main] INFO  [] c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-09-21 20:45:44.888 [main] INFO  [] com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of f58cb4bb-c8df-42da-afbc-70531f3bcc63
2025-09-21 20:45:44.890 [main] INFO  [] com.alibaba.nacos.client.naming - Create naming rpc client for uuid->f58cb4bb-c8df-42da-afbc-70531f3bcc63
2025-09-21 20:45:44.890 [main] INFO  [] com.alibaba.nacos.common.remote.client - [f58cb4bb-c8df-42da-afbc-70531f3bcc63] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.NamingServerListManager
2025-09-21 20:45:44.890 [main] INFO  [] com.alibaba.nacos.common.remote.client - [f58cb4bb-c8df-42da-afbc-70531f3bcc63] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-09-21 20:45:44.890 [main] INFO  [] com.alibaba.nacos.common.remote.client - [f58cb4bb-c8df-42da-afbc-70531f3bcc63] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-09-21 20:45:44.891 [main] INFO  [] com.alibaba.nacos.common.remote.client - [f58cb4bb-c8df-42da-afbc-70531f3bcc63] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingFuzzyWatchNotifyRequestHandler
2025-09-21 20:45:44.891 [main] INFO  [] com.alibaba.nacos.common.remote.client - [f58cb4bb-c8df-42da-afbc-70531f3bcc63] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-09-21 20:45:44.892 [main] INFO  [] c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server: 127.0.0.1 ip, serverPort: 9848, grpcTslConfig: {"enableTls":false,"mutualAuthEnable":false,"trustAll":true}
2025-09-21 20:45:44.905 [main] INFO  [] com.alibaba.nacos.common.remote.client - [f58cb4bb-c8df-42da-afbc-70531f3bcc63] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1758458744759_172.28.0.1_38564
2025-09-21 20:45:44.905 [main] INFO  [] com.alibaba.nacos.common.remote.client - [f58cb4bb-c8df-42da-afbc-70531f3bcc63] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-09-21 20:45:44.905 [com.alibaba.nacos.client.remote.worker.0] INFO  [] com.alibaba.nacos.common.remote.client - [f58cb4bb-c8df-42da-afbc-70531f3bcc63] Notify connected event to listeners.
2025-09-21 20:45:44.905 [main] INFO  [] com.alibaba.nacos.common.remote.client - [f58cb4bb-c8df-42da-afbc-70531f3bcc63] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$322/0x000000002a3c62f0
2025-09-21 20:45:44.905 [com.alibaba.nacos.client.remote.worker.0] INFO  [] com.alibaba.nacos.client.naming - Grpc connection connect
2025-09-21 20:45:44.906 [main] INFO  [] com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service user-service with instance Instance{instanceId='null', ip='192.168.43.186', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='', serviceName='null', metadata={IPv6=[2409:895a:ad5c:d2bb:dd66:91ab:7cfb:def5], preserved.register.source=SPRING_CLOUD}}
2025-09-21 20:45:44.917 [main] INFO  [] c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP user-service 192.168.43.186:8081 register finished
2025-09-21 20:45:45.115 [main] INFO  [] com.cloud.user.UserApplication - Started UserApplication in 10.216 seconds (process running for 10.735)
2025-09-21 20:45:45.144 [main] INFO  [] com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-09-21 20:45:45.145 [main] INFO  [] com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-09-21 20:45:45.145 [main] INFO  [] com.alibaba.nacos.client.config.impl.ClientWorker - [Config-fixed-public-localhost_8848] [subscribe] common+DEFAULT_GROUP+public
2025-09-21 20:45:45.151 [main] INFO  [] com.alibaba.nacos.client.config.impl.CacheData - [Config-fixed-public-localhost_8848] [add-listener] ok, tenant=public, dataId=common, group=DEFAULT_GROUP, cnt=1
2025-09-21 20:45:45.151 [main] INFO  [] c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common, group=DEFAULT_GROUP
2025-09-21 20:45:45.152 [main] INFO  [] com.cloud.user.UserApplication - 用户服务启动完成！
2025-09-21 20:45:53.425 [Thread-5] INFO  [] com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-09-21 20:45:53.425 [Thread-3] INFO  [] c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-09-21 20:45:53.425 [Thread-1] INFO  [] c.alibaba.nacos.common.executor.ThreadPoolManager - [ThreadPoolManager] Start destroying ThreadPool
2025-09-21 20:45:53.425 [Thread-5] INFO  [] com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Completed destruction of Publisher
2025-09-21 20:45:53.425 [Thread-3] INFO  [] c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Completed destruction of HttpClient
2025-09-21 20:45:53.425 [Thread-1] INFO  [] c.alibaba.nacos.common.executor.ThreadPoolManager - [ThreadPoolManager] Completed destruction of ThreadPool
2025-09-21 20:45:53.426 [SpringApplicationShutdownHook] INFO  [] c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-09-21 20:45:53.426 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service user-service with instance: Instance{instanceId='null', ip='192.168.43.186', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='', serviceName='null', metadata={}}
2025-09-21 20:45:53.425 [nacos.publisher-com.alibaba.nacos.client.naming.event.NamingFuzzyWatchNotifyEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:45:53.425 [nacos.publisher-com.alibaba.nacos.client.config.impl.ConfigFuzzyWatchNotifyEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:45:53.425 [nacos.publisher-com.alibaba.nacos.client.naming.event.NamingFuzzyWatchLoadEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:45:53.425 [nacos.publisher-com.alibaba.nacos.common.notify.SlowEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:45:53.425 [nacos.publisher-com.alibaba.nacos.client.config.impl.ConfigFuzzyWatchLoadEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:45:53.425 [nacos.publisher-com.alibaba.nacos.client.naming.event.InstancesChangeEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:45:53.435 [SpringApplicationShutdownHook] INFO  [] c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-09-21 20:45:53.435 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-09-21 20:45:53.435 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-09-21 20:45:53.436 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-09-21 20:45:53.436 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-09-21 20:45:53.436 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-09-21 20:45:53.436 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-09-21 20:45:53.436 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-09-21 20:45:53.436 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.client.address.AbstractServerListManager - com.alibaba.nacos.client.naming.core.NamingServerListManager do shutdown begin
2025-09-21 20:45:53.436 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.client.address.AbstractServerListManager - com.alibaba.nacos.client.naming.core.NamingServerListManager do shutdown stop
2025-09-21 20:45:53.436 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-09-21 20:45:53.436 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-09-21 20:45:53.436 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [NamingHttpClientManager] Completed destruction of NacosRestTemplate
2025-09-21 20:45:53.436 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-09-21 20:45:53.436 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->f58cb4bb-c8df-42da-afbc-70531f3bcc63
2025-09-21 20:45:53.437 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@2311ee9d[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 2]
2025-09-21 20:45:53.437 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-09-21 20:45:53.437 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@432396e7[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-09-21 20:45:53.437 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.common.remote.client - Close current connection 1758458744759_172.28.0.1_38564
2025-09-21 20:45:53.439 [nacos-grpc-client-executor-127.0.0.1-15] INFO  [] c.a.nacos.common.remote.client.grpc.GrpcClient - [1758458744759_172.28.0.1_38564]Ignore complete event,isRunning:false,isAbandon=false
2025-09-21 20:45:53.440 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@2ca4d810[Running, pool size = 16, active threads = 0, queued tasks = 0, completed tasks = 16]
2025-09-21 20:45:53.440 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->f58cb4bb-c8df-42da-afbc-70531f3bcc63
2025-09-21 20:45:53.440 [SpringApplicationShutdownHook] WARN  [] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception thrown from ApplicationListener handling ContextClosedEvent
java.lang.NullPointerException: Cannot read field "sharePublisher" because "com.alibaba.nacos.common.notify.NotifyCenter.INSTANCE" is null
	at com.alibaba.nacos.common.notify.NotifyCenter.deregisterSubscriber(NotifyCenter.java:242)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.shutdown(NamingGrpcClientProxy.java:537)
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.shutdown(NamingClientProxyDelegate.java:212)
	at com.alibaba.nacos.client.naming.NacosNamingService.shutDown(NacosNamingService.java:637)
	at com.alibaba.cloud.nacos.NacosServiceManager.nacosServiceShutDown(NacosServiceManager.java:117)
	at com.alibaba.cloud.nacos.registry.NacosServiceRegistry.close(NacosServiceRegistry.java:120)
	at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.stop(AbstractAutoServiceRegistration.java:311)
	at com.alibaba.cloud.nacos.registry.NacosAutoServiceRegistration.onContextClosedEvent(NacosAutoServiceRegistration.java:122)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1163)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:179)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1126)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-09-21 20:45:53.444 [SpringApplicationShutdownHook] INFO  [] o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-21 20:45:53.477 [tomcat-shutdown] INFO  [] o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-21 20:45:53.483 [SpringApplicationShutdownHook] INFO  [] o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-09-21 20:45:53.483 [SpringApplicationShutdownHook] INFO  [] o.s.integration.channel.PublishSubscribeChannel - Channel 'user-service.errorChannel' has 0 subscriber(s).
2025-09-21 20:45:53.484 [SpringApplicationShutdownHook] INFO  [] o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-09-21 20:45:53.487 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-09-21 20:45:53.487 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-09-21 20:45:53.487 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-09-21 20:45:53.488 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-09-21 20:45:53.488 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-09-21 20:45:53.488 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-09-21 20:45:53.488 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-09-21 20:45:53.488 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.client.address.AbstractServerListManager - com.alibaba.nacos.client.naming.core.NamingServerListManager do shutdown begin
2025-09-21 20:45:53.488 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.client.address.AbstractServerListManager - com.alibaba.nacos.client.naming.core.NamingServerListManager do shutdown stop
2025-09-21 20:45:53.488 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-09-21 20:45:53.488 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-09-21 20:45:53.489 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [NamingHttpClientManager] Completed destruction of NacosRestTemplate
2025-09-21 20:45:53.489 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-09-21 20:45:53.489 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->f58cb4bb-c8df-42da-afbc-70531f3bcc63
2025-09-21 20:45:53.489 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@2311ee9d[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 2]
2025-09-21 20:45:53.489 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->f58cb4bb-c8df-42da-afbc-70531f3bcc63
2025-09-21 20:45:53.490 [SpringApplicationShutdownHook] WARN  [] o.s.beans.factory.support.DisposableBeanAdapter - Custom destroy method 'close' on bean with name 'nacosServiceRegistry' propagated an exception: java.lang.NullPointerException: Cannot read field "sharePublisher" because "com.alibaba.nacos.common.notify.NotifyCenter.INSTANCE" is null
2025-09-21 20:52:32.328 [background-preinit] INFO  [] org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-09-21 20:52:32.375 [main] INFO  [] com.cloud.user.UserApplication - Starting UserApplication using Java 17.0.14 with PID 16204 (D:\Download\Code\sofware\cloud\user-service\target\classes started by what's up in D:\Download\Code\sofware\cloud\user-service)
2025-09-21 20:52:32.377 [main] INFO  [] com.cloud.user.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-21 20:52:32.419 [main] INFO  [] c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common, group=DEFAULT_GROUP] success
2025-09-21 20:52:34.233 [main] INFO  [] o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-21 20:52:34.235 [main] INFO  [] o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-21 20:52:34.272 [main] INFO  [] o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-09-21 20:52:34.541 [main] INFO  [] o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-09-21 20:52:34.549 [main] INFO  [] o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-09-21 20:52:34.678 [main] INFO  [] o.springframework.cloud.context.scope.GenericScope - BeanFactory id=4588ad96-51fb-3153-a0a8-df138090be21
2025-09-21 20:52:35.484 [main] INFO  [] o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-09-21 20:52:35.497 [main] INFO  [] org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-09-21 20:52:35.498 [main] INFO  [] org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-09-21 20:52:35.499 [main] INFO  [] org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-09-21 20:52:35.566 [main] INFO  [] o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-21 20:52:35.567 [main] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3144 ms
2025-09-21 20:52:36.280 [main] INFO  [] com.cloud.user.config.UserMessageConfiguration - ✅ 函数式用户消息配置已加载 - RocketMQ集成启用，支持日志服务
2025-09-21 20:52:39.136 [main] INFO  [] o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-09-21 20:52:39.701 [main] INFO  [] com.cloud.user.config.UserAsyncConfig - 用户查询线程池初始化完成
2025-09-21 20:52:39.731 [main] INFO  [] com.cloud.user.config.UserAsyncConfig - 用户操作线程池初始化完成
2025-09-21 20:52:39.754 [main] INFO  [] com.cloud.user.config.UserAsyncConfig - 用户服务通用异步线程池初始化完成
2025-09-21 20:52:40.786 [main] INFO  [] c.b.m.e.spring.MybatisPlusApplicationContextAware - Register ApplicationContext instances org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@28ee7bee
2025-09-21 20:52:41.234 [main] WARN  [] o.s.c.f.c.catalog.BeanFactoryAwareFunctionRegistry - Multiple functional beans were found [logProducer, logConsumer, userProducer], thus can't determine default function definition. Please use 'spring.cloud.function.definition' property to explicitly define it. 
2025-09-21 20:52:42.939 [main] INFO  [] o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-09-21 20:52:42.940 [main] INFO  [] o.s.integration.channel.PublishSubscribeChannel - Channel 'user-service.errorChannel' has 1 subscriber(s).
2025-09-21 20:52:42.941 [main] INFO  [] o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-09-21 20:52:42.942 [main] INFO  [] org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-09-21 20:52:42.956 [main] INFO  [] o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-09-21 20:52:42.965 [main] INFO  [] com.alibaba.nacos.client.naming - Nacos client key init properties: 
	serverAddr=127.0.0.1:8848
	namespace=public
	username=nacos
	password=n***s

2025-09-21 20:52:42.966 [main] INFO  [] com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-09-21 20:52:42.967 [main] INFO  [] com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-09-21 20:52:42.968 [main] INFO  [] com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-09-21 20:52:42.976 [main] INFO  [] com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-09-21 20:52:42.981 [main] INFO  [] c.a.nacos.client.address.AbstractServerListManager - Load and match ServerListProvider com.alibaba.nacos.client.address.EndpointServerListProvider, match result: false
2025-09-21 20:52:42.982 [main] INFO  [] c.a.nacos.client.address.AbstractServerListManager - Load and match ServerListProvider com.alibaba.nacos.client.address.PropertiesListProvider, match result: true
2025-09-21 20:52:42.982 [main] INFO  [] c.a.nacos.client.address.AbstractServerListManager - Will use com.alibaba.nacos.client.address.PropertiesListProvider as ServerListProvider
2025-09-21 20:52:42.983 [main] INFO  [] c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-09-21 20:52:42.984 [main] INFO  [] c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-09-21 20:52:43.070 [main] INFO  [] com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8
2025-09-21 20:52:43.072 [main] INFO  [] com.alibaba.nacos.client.naming - Create naming rpc client for uuid->c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8
2025-09-21 20:52:43.073 [main] INFO  [] com.alibaba.nacos.common.remote.client - [c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.NamingServerListManager
2025-09-21 20:52:43.073 [main] INFO  [] com.alibaba.nacos.common.remote.client - [c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-09-21 20:52:43.074 [main] INFO  [] com.alibaba.nacos.common.remote.client - [c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-09-21 20:52:43.075 [main] INFO  [] com.alibaba.nacos.common.remote.client - [c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingFuzzyWatchNotifyRequestHandler
2025-09-21 20:52:43.076 [main] INFO  [] com.alibaba.nacos.common.remote.client - [c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-09-21 20:52:43.076 [main] INFO  [] c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server: 127.0.0.1 ip, serverPort: 9848, grpcTslConfig: {"enableTls":false,"mutualAuthEnable":false,"trustAll":true}
2025-09-21 20:52:43.097 [main] INFO  [] com.alibaba.nacos.common.remote.client - [c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1758459163335_172.28.0.1_58304
2025-09-21 20:52:43.097 [main] INFO  [] com.alibaba.nacos.common.remote.client - [c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-09-21 20:52:43.097 [com.alibaba.nacos.client.remote.worker.0] INFO  [] com.alibaba.nacos.common.remote.client - [c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8] Notify connected event to listeners.
2025-09-21 20:52:43.097 [main] INFO  [] com.alibaba.nacos.common.remote.client - [c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$322/0x000000002a3c62f0
2025-09-21 20:52:43.097 [com.alibaba.nacos.client.remote.worker.0] INFO  [] com.alibaba.nacos.client.naming - Grpc connection connect
2025-09-21 20:52:43.100 [main] INFO  [] com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service user-service with instance Instance{instanceId='null', ip='192.168.43.186', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='', serviceName='null', metadata={IPv6=[2409:895a:ad5c:d2bb:dd66:91ab:7cfb:def5], preserved.register.source=SPRING_CLOUD}}
2025-09-21 20:52:43.118 [main] INFO  [] c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP user-service 192.168.43.186:8081 register finished
2025-09-21 20:52:43.571 [main] INFO  [] com.cloud.user.UserApplication - Started UserApplication in 13.325 seconds (process running for 13.895)
2025-09-21 20:52:43.631 [main] INFO  [] com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-09-21 20:52:43.631 [main] INFO  [] com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-09-21 20:52:43.632 [main] INFO  [] com.alibaba.nacos.client.config.impl.ClientWorker - [Config-fixed-public-localhost_8848] [subscribe] common+DEFAULT_GROUP+public
2025-09-21 20:52:43.643 [main] INFO  [] com.alibaba.nacos.client.config.impl.CacheData - [Config-fixed-public-localhost_8848] [add-listener] ok, tenant=public, dataId=common, group=DEFAULT_GROUP, cnt=1
2025-09-21 20:52:43.643 [main] INFO  [] c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common, group=DEFAULT_GROUP
2025-09-21 20:52:43.644 [main] INFO  [] com.cloud.user.UserApplication - 用户服务启动完成！
2025-09-21 20:53:32.706 [Thread-5] INFO  [] com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-09-21 20:53:32.706 [Thread-1] INFO  [] c.alibaba.nacos.common.executor.ThreadPoolManager - [ThreadPoolManager] Start destroying ThreadPool
2025-09-21 20:53:32.706 [Thread-3] INFO  [] c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-09-21 20:53:32.707 [Thread-5] INFO  [] com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Completed destruction of Publisher
2025-09-21 20:53:32.707 [Thread-1] INFO  [] c.alibaba.nacos.common.executor.ThreadPoolManager - [ThreadPoolManager] Completed destruction of ThreadPool
2025-09-21 20:53:32.707 [Thread-3] INFO  [] c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Completed destruction of HttpClient
2025-09-21 20:53:32.707 [nacos.publisher-com.alibaba.nacos.client.naming.event.InstancesChangeEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:53:32.706 [nacos.publisher-com.alibaba.nacos.client.naming.event.NamingFuzzyWatchLoadEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:53:32.707 [nacos.publisher-com.alibaba.nacos.common.ability.AbstractAbilityControlManager$AbilityUpdateEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:53:32.706 [nacos.publisher-com.alibaba.nacos.client.config.impl.ConfigFuzzyWatchLoadEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:53:32.706 [nacos.publisher-com.alibaba.nacos.client.config.impl.ConfigFuzzyWatchNotifyEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:53:32.706 [nacos.publisher-com.alibaba.nacos.client.naming.event.NamingFuzzyWatchNotifyEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:53:32.707 [nacos.publisher-com.alibaba.nacos.common.notify.SlowEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 20:53:32.709 [SpringApplicationShutdownHook] INFO  [] c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-09-21 20:53:32.709 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service user-service with instance: Instance{instanceId='null', ip='192.168.43.186', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='', serviceName='null', metadata={}}
2025-09-21 20:53:32.716 [SpringApplicationShutdownHook] INFO  [] c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-09-21 20:53:32.716 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-09-21 20:53:32.716 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-09-21 20:53:32.717 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-09-21 20:53:32.717 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-09-21 20:53:32.717 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-09-21 20:53:32.717 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-09-21 20:53:32.717 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-09-21 20:53:32.717 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.client.address.AbstractServerListManager - com.alibaba.nacos.client.naming.core.NamingServerListManager do shutdown begin
2025-09-21 20:53:32.717 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.client.address.AbstractServerListManager - com.alibaba.nacos.client.naming.core.NamingServerListManager do shutdown stop
2025-09-21 20:53:32.717 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-09-21 20:53:32.718 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-09-21 20:53:32.718 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [NamingHttpClientManager] Completed destruction of NacosRestTemplate
2025-09-21 20:53:32.718 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-09-21 20:53:32.718 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8
2025-09-21 20:53:32.718 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@6a5ba5ac[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 16]
2025-09-21 20:53:32.719 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-09-21 20:53:32.719 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@4aaa0672[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-09-21 20:53:32.719 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.common.remote.client - Close current connection 1758459163335_172.28.0.1_58304
2025-09-21 20:53:32.721 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@351606fb[Running, pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 29]
2025-09-21 20:53:32.722 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8
2025-09-21 20:53:32.722 [SpringApplicationShutdownHook] WARN  [] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception thrown from ApplicationListener handling ContextClosedEvent
java.lang.NullPointerException: Cannot read field "sharePublisher" because "com.alibaba.nacos.common.notify.NotifyCenter.INSTANCE" is null
	at com.alibaba.nacos.common.notify.NotifyCenter.deregisterSubscriber(NotifyCenter.java:242)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.shutdown(NamingGrpcClientProxy.java:537)
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.shutdown(NamingClientProxyDelegate.java:212)
	at com.alibaba.nacos.client.naming.NacosNamingService.shutDown(NacosNamingService.java:637)
	at com.alibaba.cloud.nacos.NacosServiceManager.nacosServiceShutDown(NacosServiceManager.java:117)
	at com.alibaba.cloud.nacos.registry.NacosServiceRegistry.close(NacosServiceRegistry.java:120)
	at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.stop(AbstractAutoServiceRegistration.java:311)
	at com.alibaba.cloud.nacos.registry.NacosAutoServiceRegistration.onContextClosedEvent(NacosAutoServiceRegistration.java:122)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1163)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:179)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1126)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-09-21 20:53:32.725 [SpringApplicationShutdownHook] INFO  [] o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-21 20:53:32.775 [tomcat-shutdown] INFO  [] o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-21 20:53:32.783 [SpringApplicationShutdownHook] INFO  [] o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-09-21 20:53:32.783 [SpringApplicationShutdownHook] INFO  [] o.s.integration.channel.PublishSubscribeChannel - Channel 'user-service.errorChannel' has 0 subscriber(s).
2025-09-21 20:53:32.784 [SpringApplicationShutdownHook] INFO  [] o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-09-21 20:53:32.788 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-09-21 20:53:32.788 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-09-21 20:53:32.788 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-09-21 20:53:32.789 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-09-21 20:53:32.789 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-09-21 20:53:32.789 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-09-21 20:53:32.789 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-09-21 20:53:32.789 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.client.address.AbstractServerListManager - com.alibaba.nacos.client.naming.core.NamingServerListManager do shutdown begin
2025-09-21 20:53:32.789 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.client.address.AbstractServerListManager - com.alibaba.nacos.client.naming.core.NamingServerListManager do shutdown stop
2025-09-21 20:53:32.789 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-09-21 20:53:32.789 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-09-21 20:53:32.790 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [NamingHttpClientManager] Completed destruction of NacosRestTemplate
2025-09-21 20:53:32.790 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-09-21 20:53:32.790 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8
2025-09-21 20:53:32.790 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@6a5ba5ac[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 16]
2025-09-21 20:53:32.790 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->c76bc8e9-2ff5-4a8b-b115-0edfb26e47c8
2025-09-21 20:53:32.791 [SpringApplicationShutdownHook] WARN  [] o.s.beans.factory.support.DisposableBeanAdapter - Custom destroy method 'close' on bean with name 'nacosServiceRegistry' propagated an exception: java.lang.NullPointerException: Cannot read field "sharePublisher" because "com.alibaba.nacos.common.notify.NotifyCenter.INSTANCE" is null
2025-09-21 21:10:55.962 [background-preinit] INFO  [] org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-09-21 21:10:56.004 [main] INFO  [] com.cloud.user.UserApplication - Starting UserApplication using Java 17.0.14 with PID 14932 (D:\Download\Code\sofware\cloud\user-service\target\classes started by what's up in D:\Download\Code\sofware\cloud\user-service)
2025-09-21 21:10:56.005 [main] INFO  [] com.cloud.user.UserApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-21 21:10:56.048 [main] INFO  [] c.a.cloud.nacos.configdata.NacosConfigDataLoader - [Nacos Config] Load config[dataId=common, group=DEFAULT_GROUP] success
2025-09-21 21:10:57.654 [main] INFO  [] o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-21 21:10:57.656 [main] INFO  [] o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-21 21:10:57.686 [main] INFO  [] o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-09-21 21:10:57.868 [main] INFO  [] o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2025-09-21 21:10:57.875 [main] INFO  [] o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2025-09-21 21:10:58.000 [main] INFO  [] o.springframework.cloud.context.scope.GenericScope - BeanFactory id=f60f7d6a-9f46-3d83-b812-1bb3ca8a500e
2025-09-21 21:10:58.637 [main] INFO  [] o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-09-21 21:10:58.647 [main] INFO  [] org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-09-21 21:10:58.648 [main] INFO  [] org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-09-21 21:10:58.650 [main] INFO  [] org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-09-21 21:10:58.706 [main] INFO  [] o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-21 21:10:58.707 [main] INFO  [] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2657 ms
2025-09-21 21:10:59.360 [main] INFO  [] com.cloud.user.config.UserMessageConfiguration - ✅ 函数式用户消息配置已加载 - RocketMQ集成启用，支持日志服务
2025-09-21 21:11:01.668 [main] INFO  [] o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-09-21 21:11:02.018 [main] INFO  [] com.cloud.user.config.UserAsyncConfig - 用户查询线程池初始化完成
2025-09-21 21:11:02.033 [main] INFO  [] com.cloud.user.config.UserAsyncConfig - 用户操作线程池初始化完成
2025-09-21 21:11:02.046 [main] INFO  [] com.cloud.user.config.UserAsyncConfig - 用户服务通用异步线程池初始化完成
2025-09-21 21:11:02.660 [main] INFO  [] c.b.m.e.spring.MybatisPlusApplicationContextAware - Register ApplicationContext instances org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@9dada78
2025-09-21 21:11:02.922 [main] WARN  [] o.s.c.f.c.catalog.BeanFactoryAwareFunctionRegistry - Multiple functional beans were found [logProducer, logConsumer, userProducer], thus can't determine default function definition. Please use 'spring.cloud.function.definition' property to explicitly define it. 
2025-09-21 21:11:03.869 [main] INFO  [] o.s.integration.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-09-21 21:11:03.869 [main] INFO  [] o.s.integration.channel.PublishSubscribeChannel - Channel 'user-service.errorChannel' has 1 subscriber(s).
2025-09-21 21:11:03.870 [main] INFO  [] o.s.integration.endpoint.EventDrivenConsumer - started bean '_org.springframework.integration.errorLogger'
2025-09-21 21:11:03.870 [main] INFO  [] org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-09-21 21:11:03.880 [main] INFO  [] o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/'
2025-09-21 21:11:03.886 [main] INFO  [] com.alibaba.nacos.client.naming - Nacos client key init properties: 
	serverAddr=127.0.0.1:8848
	namespace=public
	username=nacos
	password=n***s

2025-09-21 21:11:03.887 [main] INFO  [] com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2025-09-21 21:11:03.887 [main] INFO  [] com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2025-09-21 21:11:03.889 [main] INFO  [] com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2025-09-21 21:11:03.895 [main] INFO  [] com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2025-09-21 21:11:03.900 [main] INFO  [] c.a.nacos.client.address.AbstractServerListManager - Load and match ServerListProvider com.alibaba.nacos.client.address.EndpointServerListProvider, match result: false
2025-09-21 21:11:03.900 [main] INFO  [] c.a.nacos.client.address.AbstractServerListManager - Load and match ServerListProvider com.alibaba.nacos.client.address.PropertiesListProvider, match result: true
2025-09-21 21:11:03.900 [main] INFO  [] c.a.nacos.client.address.AbstractServerListManager - Will use com.alibaba.nacos.client.address.PropertiesListProvider as ServerListProvider
2025-09-21 21:11:03.901 [main] INFO  [] c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-09-21 21:11:03.902 [main] INFO  [] c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-09-21 21:11:03.988 [main] INFO  [] com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of fecf377a-e9ae-418f-8890-302940211524
2025-09-21 21:11:03.991 [main] INFO  [] com.alibaba.nacos.client.naming - Create naming rpc client for uuid->fecf377a-e9ae-418f-8890-302940211524
2025-09-21 21:11:03.991 [main] INFO  [] com.alibaba.nacos.common.remote.client - [fecf377a-e9ae-418f-8890-302940211524] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.NamingServerListManager
2025-09-21 21:11:03.991 [main] INFO  [] com.alibaba.nacos.common.remote.client - [fecf377a-e9ae-418f-8890-302940211524] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2025-09-21 21:11:03.992 [main] INFO  [] com.alibaba.nacos.common.remote.client - [fecf377a-e9ae-418f-8890-302940211524] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2025-09-21 21:11:03.992 [main] INFO  [] com.alibaba.nacos.common.remote.client - [fecf377a-e9ae-418f-8890-302940211524] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingFuzzyWatchNotifyRequestHandler
2025-09-21 21:11:03.993 [main] INFO  [] com.alibaba.nacos.common.remote.client - [fecf377a-e9ae-418f-8890-302940211524] Try to connect to server on start up, server: {serverIp = '127.0.0.1', server main port = 8848}
2025-09-21 21:11:03.993 [main] INFO  [] c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server: 127.0.0.1 ip, serverPort: 9848, grpcTslConfig: {"enableTls":false,"mutualAuthEnable":false,"trustAll":true}
2025-09-21 21:11:04.009 [main] INFO  [] com.alibaba.nacos.common.remote.client - [fecf377a-e9ae-418f-8890-302940211524] Success to connect to server [127.0.0.1:8848] on start up, connectionId = 1758460263451_172.28.0.1_47936
2025-09-21 21:11:04.009 [com.alibaba.nacos.client.remote.worker.0] INFO  [] com.alibaba.nacos.common.remote.client - [fecf377a-e9ae-418f-8890-302940211524] Notify connected event to listeners.
2025-09-21 21:11:04.009 [main] INFO  [] com.alibaba.nacos.common.remote.client - [fecf377a-e9ae-418f-8890-302940211524] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2025-09-21 21:11:04.009 [com.alibaba.nacos.client.remote.worker.0] INFO  [] com.alibaba.nacos.client.naming - Grpc connection connect
2025-09-21 21:11:04.010 [main] INFO  [] com.alibaba.nacos.common.remote.client - [fecf377a-e9ae-418f-8890-302940211524] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$322/0x000000002a3c4e00
2025-09-21 21:11:04.011 [main] INFO  [] com.alibaba.nacos.client.naming - [REGISTER-SERVICE] public registering service user-service with instance Instance{instanceId='null', ip='192.168.43.186', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='', serviceName='null', metadata={IPv6=[2409:895a:ad5c:d2bb:dd66:91ab:7cfb:def5], preserved.register.source=SPRING_CLOUD}}
2025-09-21 21:11:04.027 [main] INFO  [] c.a.cloud.nacos.registry.NacosServiceRegistry - nacos registry, DEFAULT_GROUP user-service 192.168.43.186:8081 register finished
2025-09-21 21:11:04.293 [main] INFO  [] com.cloud.user.UserApplication - Started UserApplication in 10.371 seconds (process running for 10.897)
2025-09-21 21:11:04.336 [main] INFO  [] com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2025-09-21 21:11:04.336 [main] INFO  [] com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2025-09-21 21:11:04.337 [main] INFO  [] com.alibaba.nacos.client.config.impl.ClientWorker - [Config-fixed-public-localhost_8848] [subscribe] common+DEFAULT_GROUP+public
2025-09-21 21:11:04.346 [main] INFO  [] com.alibaba.nacos.client.config.impl.CacheData - [Config-fixed-public-localhost_8848] [add-listener] ok, tenant=public, dataId=common, group=DEFAULT_GROUP, cnt=1
2025-09-21 21:11:04.347 [main] INFO  [] c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=common, group=DEFAULT_GROUP
2025-09-21 21:11:04.347 [main] INFO  [] com.cloud.user.UserApplication - 用户服务启动完成！
2025-09-21 21:27:11.901 [Thread-5] INFO  [] com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2025-09-21 21:27:11.901 [Thread-1] INFO  [] c.alibaba.nacos.common.executor.ThreadPoolManager - [ThreadPoolManager] Start destroying ThreadPool
2025-09-21 21:27:11.901 [Thread-3] INFO  [] c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2025-09-21 21:27:11.901 [Thread-5] INFO  [] com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Completed destruction of Publisher
2025-09-21 21:27:11.901 [Thread-1] INFO  [] c.alibaba.nacos.common.executor.ThreadPoolManager - [ThreadPoolManager] Completed destruction of ThreadPool
2025-09-21 21:27:11.901 [Thread-3] INFO  [] c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Completed destruction of HttpClient
2025-09-21 21:27:11.903 [SpringApplicationShutdownHook] INFO  [] c.a.cloud.nacos.registry.NacosServiceRegistry - De-registering from Nacos Server now...
2025-09-21 21:27:11.901 [nacos.publisher-com.alibaba.nacos.common.notify.SlowEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 21:27:11.901 [nacos.publisher-com.alibaba.nacos.client.naming.event.InstancesChangeEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 21:27:11.901 [nacos.publisher-com.alibaba.nacos.client.config.impl.ConfigFuzzyWatchNotifyEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 21:27:11.901 [nacos.publisher-com.alibaba.nacos.common.ability.AbstractAbilityControlManager$AbilityUpdateEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 21:27:11.901 [nacos.publisher-com.alibaba.nacos.client.config.impl.ConfigFuzzyWatchLoadEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 21:27:11.901 [nacos.publisher-com.alibaba.nacos.client.naming.event.NamingFuzzyWatchNotifyEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 21:27:11.901 [nacos.publisher-com.alibaba.nacos.client.naming.event.NamingFuzzyWatchLoadEvent] ERROR [] com.alibaba.nacos.common.notify.NotifyCenter - Event listener exception : 
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1645)
	at java.base/java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:420)
	at com.alibaba.nacos.common.notify.DefaultPublisher.openEventHandler(DefaultPublisher.java:111)
	at com.alibaba.nacos.common.notify.DefaultPublisher.run(DefaultPublisher.java:95)
2025-09-21 21:27:11.903 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [DEREGISTER-SERVICE] public deregistering service user-service with instance: Instance{instanceId='null', ip='192.168.43.186', port=8081, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='', serviceName='null', metadata={}}
2025-09-21 21:27:11.912 [SpringApplicationShutdownHook] INFO  [] c.a.cloud.nacos.registry.NacosServiceRegistry - De-registration finished.
2025-09-21 21:27:11.912 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-09-21 21:27:11.913 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-09-21 21:27:11.913 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-09-21 21:27:11.913 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-09-21 21:27:11.913 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-09-21 21:27:11.913 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-09-21 21:27:11.913 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-09-21 21:27:11.913 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.client.address.AbstractServerListManager - com.alibaba.nacos.client.naming.core.NamingServerListManager do shutdown begin
2025-09-21 21:27:11.914 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.client.address.AbstractServerListManager - com.alibaba.nacos.client.naming.core.NamingServerListManager do shutdown stop
2025-09-21 21:27:11.914 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-09-21 21:27:11.914 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-09-21 21:27:11.914 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [NamingHttpClientManager] Completed destruction of NacosRestTemplate
2025-09-21 21:27:11.914 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-09-21 21:27:11.914 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->fecf377a-e9ae-418f-8890-302940211524
2025-09-21 21:27:11.914 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@3f72f3be[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 321]
2025-09-21 21:27:11.914 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2025-09-21 21:27:11.914 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@72004cb7[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2025-09-21 21:27:11.915 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.common.remote.client - Close current connection 1758460263451_172.28.0.1_47936
2025-09-21 21:27:11.917 [nacos-grpc-client-executor-127.0.0.1-387] INFO  [] c.a.nacos.common.remote.client.grpc.GrpcClient - [1758460263451_172.28.0.1_47936]Ignore complete event,isRunning:false,isAbandon=false
2025-09-21 21:27:11.918 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@26452903[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 388]
2025-09-21 21:27:11.919 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->fecf377a-e9ae-418f-8890-302940211524
2025-09-21 21:27:11.919 [SpringApplicationShutdownHook] WARN  [] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception thrown from ApplicationListener handling ContextClosedEvent
java.lang.NullPointerException: Cannot read field "sharePublisher" because "com.alibaba.nacos.common.notify.NotifyCenter.INSTANCE" is null
	at com.alibaba.nacos.common.notify.NotifyCenter.deregisterSubscriber(NotifyCenter.java:242)
	at com.alibaba.nacos.client.naming.remote.gprc.NamingGrpcClientProxy.shutdown(NamingGrpcClientProxy.java:537)
	at com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate.shutdown(NamingClientProxyDelegate.java:212)
	at com.alibaba.nacos.client.naming.NacosNamingService.shutDown(NacosNamingService.java:637)
	at com.alibaba.cloud.nacos.NacosServiceManager.nacosServiceShutDown(NacosServiceManager.java:117)
	at com.alibaba.cloud.nacos.registry.NacosServiceRegistry.close(NacosServiceRegistry.java:120)
	at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.stop(AbstractAutoServiceRegistration.java:311)
	at com.alibaba.cloud.nacos.registry.NacosAutoServiceRegistration.onContextClosedEvent(NacosAutoServiceRegistration.java:122)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1163)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:179)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1126)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:147)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:116)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-09-21 21:27:11.923 [SpringApplicationShutdownHook] INFO  [] o.s.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-21 21:27:11.971 [tomcat-shutdown] INFO  [] o.s.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-21 21:27:11.977 [SpringApplicationShutdownHook] INFO  [] o.s.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-09-21 21:27:11.977 [SpringApplicationShutdownHook] INFO  [] o.s.integration.channel.PublishSubscribeChannel - Channel 'user-service.errorChannel' has 0 subscriber(s).
2025-09-21 21:27:11.978 [SpringApplicationShutdownHook] INFO  [] o.s.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-09-21 21:27:11.982 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2025-09-21 21:27:11.982 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2025-09-21 21:27:11.982 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2025-09-21 21:27:11.982 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2025-09-21 21:27:11.982 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2025-09-21 21:27:11.982 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2025-09-21 21:27:11.983 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2025-09-21 21:27:11.983 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.client.address.AbstractServerListManager - com.alibaba.nacos.client.naming.core.NamingServerListManager do shutdown begin
2025-09-21 21:27:11.983 [SpringApplicationShutdownHook] INFO  [] c.a.nacos.client.address.AbstractServerListManager - com.alibaba.nacos.client.naming.core.NamingServerListManager do shutdown stop
2025-09-21 21:27:11.983 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2025-09-21 21:27:11.983 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2025-09-21 21:27:11.984 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - [NamingHttpClientManager] Completed destruction of NacosRestTemplate
2025-09-21 21:27:11.984 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2025-09-21 21:27:11.984 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->fecf377a-e9ae-418f-8890-302940211524
2025-09-21 21:27:11.984 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@3f72f3be[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 321]
2025-09-21 21:27:11.984 [SpringApplicationShutdownHook] INFO  [] com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->fecf377a-e9ae-418f-8890-302940211524
2025-09-21 21:27:11.984 [SpringApplicationShutdownHook] WARN  [] o.s.beans.factory.support.DisposableBeanAdapter - Custom destroy method 'close' on bean with name 'nacosServiceRegistry' propagated an exception: java.lang.NullPointerException: Cannot read field "sharePublisher" because "com.alibaba.nacos.common.notify.NotifyCenter.INSTANCE" is null
