# Gateway Service - å“åº”å¼ç½‘å…³

## ğŸ“‹ æœåŠ¡æ¦‚è¿°

Gateway Service æ˜¯åŸºäº Spring Cloud Gateway æ„å»ºçš„å“åº”å¼å¾®æœåŠ¡ç½‘å…³ï¼Œä½œä¸º OAuth2.1 èµ„æºæœåŠ¡å™¨æä¾›ç»Ÿä¸€çš„è®¤è¯é‰´æƒå…¥å£ã€‚

**æœ€è¿‘ä¼˜åŒ–æ—¶é—´**: 2025-09-19

### ğŸ”§ æŠ€æœ¯æ ˆç‰ˆæœ¬

- **Spring Boot**: 3.5.3
- **Spring Cloud Gateway**: 4.x (WebFluxå“åº”å¼)
- **Spring Security OAuth2 Resource Server**: Bootç®¡ç†
- **JWT**: Bootç®¡ç† + Nimbus JWT
- **Redis**: 7.0+ (ä¼šè¯å’Œç¼“å­˜)
- **Nacos**: 2.4.0+ (æœåŠ¡å‘ç°å’Œé…ç½®)

## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

#### 1. OAuth2.1 èµ„æºæœåŠ¡å™¨

- âœ… **ç»Ÿä¸€é‰´æƒå…¥å£**: æ‰€æœ‰APIè¯·æ±‚ç»Ÿä¸€è®¤è¯
- âœ… **JWT TokenéªŒè¯**: éªŒè¯auth-serviceé¢å‘çš„JWT
- âœ… **æƒé™æ£€æŸ¥**: åŸºäºJWT claimsçš„æƒé™éªŒè¯
- âœ… **Tokenè½¬å‘**: å°†è®¤è¯ä¿¡æ¯ä¼ é€’ç»™ä¸‹æ¸¸æœåŠ¡

#### 2. ç½‘å…³ç‰¹æ€§

- ğŸš€ **å“åº”å¼æ¶æ„**: WebFluxé«˜å¹¶å‘å¤„ç†
- ğŸ”„ **åŠ¨æ€è·¯ç”±**: æ”¯æŒè¿è¡Œæ—¶è·¯ç”±é…ç½®
- ğŸ›¡ï¸ **å®‰å…¨è¿‡æ»¤**: IPæ£€æŸ¥ã€é™æµã€æ€§èƒ½ç›‘æ§
- ğŸ“Š **APIæ–‡æ¡£èšåˆ**: èšåˆæ‰€æœ‰å¾®æœåŠ¡çš„APIæ–‡æ¡£

## ğŸš€ æœåŠ¡é…ç½®

### ç«¯å£ä¸æ•°æ®åº“

```yaml
# ç½‘å…³ç«¯å£
server:
  port: 80  # ç»Ÿä¸€å…¥å£

# Redisé…ç½®ï¼ˆå·²ä¼˜åŒ–ï¼‰
spring:
  data:
    redis:
      database: 6  # ç½‘å…³ä¸“ç”¨æ•°æ®åº“
      max-active: 16  # æé«˜è¿æ¥æ± å¤§å°
      timeout: 5000ms  # ç¼©çŸ­è¶…æ—¶æ—¶é—´
      min-idle: 2
```

### OAuth2.1 èµ„æºæœåŠ¡å™¨é…ç½®

```yaml
spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          # é€šè¿‡ç½‘å…³è®¿é—®auth-serviceçš„JWKç«¯ç‚¹
          jwk-set-uri: http://127.0.0.1:80/.well-known/jwks.json
          issuer-uri: http://127.0.0.1:80
```

## ğŸŒ¯ï¸ è·¯ç”±é…ç½®

### è·¯ç”±ä¼˜å…ˆçº§ç­–ç•¥

ä¸ºäº†è§£å†³è·¯å¾„å†²çªå’Œæé«˜åŒ¹é…å‡†ç¡®æ€§ï¼Œè·¯ç”±æŒ‰ä¼˜å…ˆçº§æ’åºï¼š

1. **å…·ä½“è·¯å¾„ä¼˜å…ˆ** - ç²¾ç¡®åŒ¹é…çš„è·¯å¾„ä¼˜äºPatternåŒ¹é…
2. **APIè·¯ç”±ä¼˜å…ˆ** - `/api/{service}/**` ä¼˜äºé€šç”¨è·¯ç”±
3. **æœåŠ¡ç›´æ¥è·¯ç”±** - `/{service}-service/**` ä¼˜äºé€šç”¨è·¯ç”±
4. **é€šç”¨è·¯ç”±æœ€å** - `/{service}/**` ä½œä¸ºå¤‡é€‰æ–¹æ¡ˆ

### è·¯ç”±æ˜ å°„è§„åˆ™

#### è®¤è¯æœåŠ¡è·¯ç”± (OAuth2.1)

| å¤–éƒ¨è·¯å¾„                     | å†…éƒ¨è·¯ç”±                | ä¼˜å…ˆçº§ | è¯´æ˜              |
|------------------------------|----------------------------|------|-------------------|
| `/oauth2/authorize`          | `/oauth2/authorize`        | 1    | OAuth2æˆæƒç«¯ç‚¹     |
| `/oauth2/token`              | `/oauth2/token`            | 1    | ä»¤ç‰Œç«¯ç‚¹           |
| `/oauth2/revoke`             | `/oauth2/revoke`           | 1    | ä»¤ç‰Œæ’¤é”€ç«¯ç‚¹       |
| `/.well-known/jwks.json`     | `/.well-known/jwks.json`   | 1    | JWKå…¬é’¥ç«¯ç‚¹        |
| `/userinfo`                  | `/userinfo`                | 1    | ç”¨æˆ·ä¿¡æ¯ç«¯ç‚¹       |
| `/api/auth/**`               | `/auth/api/**`             | 2    | è®¤è¯æœåŠ¡API      |
| `/login/**`, `/register/**`  | ç›´æ¥è½¬å‘                   | 3    | è®¤è¯é¡µé¢           |
| `/auth-service/**`           | `/**`                      | 4    | æœåŠ¡ç›´æ¥è®¿é—®       |
| `/auth/**`                   | `/auth/**`                 | 5    | é€šç”¨è®¤è¯è·¯å¾„       |

#### å…¶ä»–å¾®æœåŠ¡è·¯ç”±

| æœåŠ¡ç±»å‹ | APIè·¯ç”±             | ç›´æ¥è·¯ç”±              | é€šç”¨è·¯ç”±        |
|----------|--------------------|-----------------------|-----------------|
| ç”¨æˆ·æœåŠ¡ | `/api/user/**`     | `/user-service/**`    | `/user/**`      |
| å•†å“æœåŠ¡ | `/api/product/**`  | `/product-service/**` | `/product/**`   |
| è®¢å•æœåŠ¡ | `/api/order/**`    | `/order-service/**`   | `/order/**`     |
| åº“å­˜æœåŠ¡ | `/api/stock/**`    | `/stock-service/**`   | `/stock/**`     |
| æ”¯ä»˜æœåŠ¡ | `/api/payment/**`  | `/payment-service/**` | `/payment/**`   |
| æœç´¢æœåŠ¡ | `/api/search/**`   | -                     | `/search/**`    |
| æ—¥å¿—æœåŠ¡ | `/api/log/**`      | -                     | `/log/**`       |

### è·¯å¾„é‡å†™è§„åˆ™

- **APIè·¯ç”±**: `/api/{service}/path` â†’ `/{service}/api/path`
- **ç›´æ¥è·¯ç”±**: `/{service}-service/path` â†’ `/path`  
- **é€šç”¨è·¯ç”±**: `/{service}/path` â†’ `/{service}/path` (ä¿æŒä¸å˜)

## ğŸ”§ ä¼˜åŒ–æ”¹è¿›

### 1. é…ç½®ä¼˜åŒ–

- âœ… **Redisæ•°æ®åº“**: database: 6 (ç½‘å…³ä¸“ç”¨)
- âœ… **è¿æ¥æ± ä¼˜åŒ–**: max-active: 16, timeout: 5000ms
- âœ… **é…ç½®å»é‡**: åˆå¹¶é‡å¤çš„securityé…ç½®
- âœ… **CORSç»Ÿä¸€é…ç½®**: æ”¯æŒè·¨åŸŸè¯·æ±‚

### 2. è¿‡æ»¤å™¨ä¼˜åŒ–

- âœ… **JWT Tokenè½¬å‘**: ç®€åŒ–è½¬å‘é€»è¾‘ï¼Œæ·»åŠ ç”¨æˆ·IDå¤´
- âœ… **å®‰å…¨è¿‡æ»¤å™¨**: ç»Ÿä¸€çš„å®‰å…¨æ£€æŸ¥å’Œç›‘æ§
- âœ… **æ€§èƒ½ç›‘æ§**: è¯·æ±‚å“åº”æ—¶é—´å’ŒçŠ¶æ€ç ç»Ÿè®¡
- âœ… **é”™è¯¯å¤„ç†**: å‹å¥½çš„OAuth2é”™è¯¯å“åº”

### 3. å®‰å…¨å¢å¼º

- âœ… **AuthæœåŠ¡å®Œå…¨å¼€æ”¾**: è®¤è¯æœåŠ¡æ‰€æœ‰ç«¯ç‚¹æ— éœ€tokenéªŒè¯
- âœ… **OAuth2.1æ ‡å‡†ç«¯ç‚¹**: å®Œå…¨å¼€æ”¾è®¿é—®ï¼ˆ/oauth2/**ã€/.well-known/**ã€/userinfoï¼‰
- âœ… **è‡ªå®šä¹‰è®¤è¯API**: å¼€æ”¾è®¿é—®ï¼ˆ/api/auth/**ã€/api/v1/auth/**ï¼‰
- âœ… **ç»Ÿä¸€é‰´æƒ**: å…¶ä»–èµ„æºæœåŠ¡APIéœ€è¦JWTè®¤è¯
- âœ… **é”™è¯¯å¤„ç†**: æ ‡å‡†åŒ–çš„401/403é”™è¯¯å“åº”

## é‡æ„å†ç¨‹

### é‡æ„ç›®æ ‡

åœ¨ 2025-01-12 çš„é‡æ„ä¸­ï¼Œæˆ‘ä»¬ç§»é™¤äº†ç½‘å…³æœåŠ¡å¯¹ `common-module` çš„ä¾èµ–ï¼Œå®ç°äº†ç½‘å…³æœåŠ¡çš„ç‹¬ç«‹æ€§å’Œè‡ªæ²»æ€§ã€‚

### é‡æ„å†…å®¹

#### 1. ç§»é™¤ Common Module ä¾èµ–

**åŸå› **:

- ç½‘å…³ä½œä¸ºå…¥å£æœåŠ¡ï¼Œåº”è¯¥ä¿æŒè½»é‡åŒ–å’Œç‹¬ç«‹æ€§
- é¿å…å¼•å…¥ä¸šåŠ¡æ¨¡å—çš„å¤æ‚ä¾èµ–
- å‡å°‘æœåŠ¡é—´çš„è€¦åˆ

**æ”¹åŠ¨**:

- ç§»é™¤ `GatewayApplication.java` ä¸­å¯¹ `com.cloud.common` åŒ…çš„æ‰«æ
- ä¸å†ä¾èµ– `common-module` çš„é…ç½®å’Œå·¥å…·ç±»

#### 2. åˆ›å»ºç½‘å…³ä¸“ç”¨ç»„ä»¶

**æ–°å¢ç»„ä»¶**:

##### GatewaySecurityAccessManager

- è·¯å¾„: `com.cloud.gateway.security.GatewaySecurityAccessManager`
- åŠŸèƒ½: IPè®¿é—®æ§åˆ¶ã€Tokenæ’¤é”€æ£€æŸ¥
- ç‰¹æ€§:
    - IPé»‘ç™½åå•æ”¯æŒ
    - å¯ç–‘User-Agentæ£€æµ‹
    - Redisåˆ†å¸ƒå¼Tokenæ’¤é”€
    - CIDRç½‘æ®µæ”¯æŒ

##### GatewayRateLimitManager

- è·¯å¾„: `com.cloud.gateway.security.GatewayRateLimitManager`
- åŠŸèƒ½: åˆ†å¸ƒå¼é™æµç®¡ç†
- ç‰¹æ€§:
    - åŸºäºRedis + Luaè„šæœ¬çš„åŸå­æ€§é™æµ
    - æœ¬åœ°ç¼“å­˜ä¼˜åŒ–
    - æ»‘åŠ¨çª—å£é™æµç®—æ³•
    - ä¸åŒAPIçš„å·®å¼‚åŒ–é™æµé…ç½®

##### GatewayPerformanceMonitor

- è·¯å¾„: `com.cloud.gateway.monitoring.GatewayPerformanceMonitor`
- åŠŸèƒ½: æ€§èƒ½ç›‘æ§å’ŒæŒ‡æ ‡æ”¶é›†
- ç‰¹æ€§:
    - å“åº”æ—¶é—´ç»Ÿè®¡
    - é”™è¯¯ç‡ç›‘æ§
    - è·¯å¾„çº§åˆ«çš„æ€§èƒ½æŒ‡æ ‡
    - Micrometeré›†æˆ

#### 3. ä¼˜åŒ–è¿‡æ»¤å™¨æ¶æ„

**SecurityGatewayFilter é‡æ„**:

- ä½¿ç”¨ç½‘å…³ä¸“ç”¨çš„å®‰å…¨ç®¡ç†å™¨
- æ”¯æŒå“åº”å¼ç¼–ç¨‹æ¨¡å‹
- ä¼˜åŒ–æ€§èƒ½ç›‘æ§é›†æˆ
- æ”¹è¿›å¼‚å¸¸å¤„ç†æœºåˆ¶

### é‡æ„æ”¶ç›Š

1. **å‡å°‘ä¾èµ–**: ç§»é™¤äº†å¯¹ä¸šåŠ¡æ¨¡å—çš„ä¾èµ–ï¼Œæé«˜äº†ç½‘å…³çš„ç‹¬ç«‹æ€§
2. **æ€§èƒ½ä¼˜åŒ–**: å»é™¤ä¸å¿…è¦çš„ç»„ä»¶æ‰«æï¼Œæå‡å¯åŠ¨é€Ÿåº¦
3. **ç»´æŠ¤æ€§**: ç½‘å…³ä»£ç æ›´åŠ ä¸“æ³¨å’Œæ¸…æ™°
4. **æ‰©å±•æ€§**: ä¾¿äºé’ˆå¯¹ç½‘å…³ç‰¹æ€§è¿›è¡Œä¼˜åŒ–

## é…ç½®è¯´æ˜

### æ ¸å¿ƒé…ç½®

```yaml
# ç½‘å…³å®‰å…¨é…ç½®
gateway:
  security:
    ip:
      whitelist: ""  # IPç™½åå•ï¼Œé€—å·åˆ†éš”
      blacklist: ""  # IPé»‘åå•ï¼Œé€—å·åˆ†éš”

  # é™æµé…ç½®
  ratelimit:
    default:
      permits: 100      # é»˜è®¤é™æµæ¬¡æ•°
      window: 60        # æ—¶é—´çª—å£(ç§’)

  # æ€§èƒ½ç›‘æ§
  monitoring:
    performance:
      enabled: true     # æ˜¯å¦å¯ç”¨æ€§èƒ½ç›‘æ§

# OAuth2 èµ„æºæœåŠ¡å™¨é…ç½®
spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          jwk-set-uri: http://auth-service/.well-known/jwks.json
```

### é™æµè§„åˆ™é…ç½®

å†…ç½®çš„é™æµè§„åˆ™ï¼š

| APIåˆ†ç±» | é™æµKey         | é™åˆ¶æ¬¡æ•° | æ—¶é—´çª—å£ |
|-------|---------------|------|------|
| ç™»å½•æ¥å£  | auth:login    | 10æ¬¡  | 60ç§’  |
| æ³¨å†Œæ¥å£  | auth:register | 5æ¬¡   | 300ç§’ |
| æ–‡ä»¶ä¸Šä¼   | file:upload   | 20æ¬¡  | 60ç§’  |
| æµ‹è¯•æ¥å£  | api:test      | 50æ¬¡  | 60ç§’  |
| æ™®é€šAPI | api:access    | 200æ¬¡ | 60ç§’  |

## è·¯ç”±é…ç½®

### æœåŠ¡å‘ç°ç­–ç•¥

ä¸ºäº†ç¡®ä¿è·¯ç”±åŒ¹é…çš„å¯é¢„æµ‹æ€§å’Œç¨³å®šæ€§ï¼Œç½‘å…³é‡‡ç”¨ï¼š

- **ç¦ç”¨è‡ªåŠ¨æœåŠ¡å‘ç°**: `discovery.locator.enabled: false`
- **æ‰‹åŠ¨è·¯ç”±é…ç½®**: æ‰€æœ‰è·¯ç”±éƒ½æ˜¾å¼å®šä¹‰åœ¨ `application-route.yml`
- **é¿å…è·¯å¾„å†²çª**: æ‰‹åŠ¨é…ç½®çš„è·¯ç”±ä¸ä¼šä¸è‡ªåŠ¨å‘ç°çš„è·¯ç”±äº§ç”Ÿå†²çª

ç½‘å…³æ”¯æŒç²¾ç»†åŒ–çš„è·¯ç”±é…ç½®ï¼Œä¸»è¦è·¯ç”±è§„åˆ™ï¼š

```yaml
spring:
  cloud:
    gateway:
      routes:
        # è®¤è¯æœåŠ¡è·¯ç”±
        - id: auth-service
          uri: lb://auth-service
          predicates:
            - Path=/auth/**
          filters:
            - Security=true,true,true,true  # IPæ£€æŸ¥,é™æµ,Tokenæ£€æŸ¥,æ€§èƒ½ç›‘æ§

        # APIæœåŠ¡è·¯ç”±
        - id: api-services
          uri: lb://{segment}
          predicates:
            - Path=/api/{segment}/**
          filters:
            - Security=false,true,true,true
```

## APIæ–‡æ¡£èšåˆ

ç½‘å…³é›†æˆäº† Knife4jï¼Œæä¾›ç»Ÿä¸€çš„APIæ–‡æ¡£å…¥å£ï¼š

- **è®¿é—®åœ°å€**: `http://gateway:port/doc.html`
- **èšåˆèŒƒå›´**: æ‰€æœ‰åç«¯å¾®æœåŠ¡çš„APIæ–‡æ¡£
- **åŠŸèƒ½ç‰¹æ€§**:
    - ç»Ÿä¸€è®¤è¯
    - åœ¨çº¿æµ‹è¯•
    - æ¥å£åˆ†ç»„
    - ç‰ˆæœ¬ç®¡ç†

## ç›‘æ§æŒ‡æ ‡

### Prometheus æŒ‡æ ‡

ç½‘å…³æš´éœ²ä»¥ä¸‹ç›‘æ§æŒ‡æ ‡ï¼š

| æŒ‡æ ‡åç§°                       | ç±»å‹    | æè¿°     |
|----------------------------|-------|--------|
| `gateway.request.duration` | Timer | è¯·æ±‚å¤„ç†è€—æ—¶ |
| `gateway.request.total`    | Gauge | æ€»è¯·æ±‚æ•°   |
| `gateway.request.error`    | Gauge | é”™è¯¯è¯·æ±‚æ•°  |

### å¥åº·æ£€æŸ¥

- **ç«¯ç‚¹**: `/actuator/health`
- **ç›‘æ§é¡¹**:
    - Redisè¿æ¥çŠ¶æ€
    - Nacosè¿æ¥çŠ¶æ€
    - JWTè§£ç å™¨çŠ¶æ€

## å®‰å…¨ç‰¹æ€§

### 1. OAuth2.1 è®¤è¯

- åŸºäºJWTçš„æ— çŠ¶æ€è®¤è¯
- æ”¯æŒTokenæ’¤é”€æœºåˆ¶
- é›†æˆSpring Security

### 2. è®¤è¯æœåŠ¡å®‰å…¨ç­–ç•¥

**å®Œå…¨å¼€æ”¾çš„è·¯å¾„**ï¼ˆæ— éœ€tokenéªŒè¯ï¼‰ï¼š

- `/oauth2/**` - OAuth2.1æ ‡å‡†ç«¯ç‚¹
- `/.well-known/**` - OIDCå‘ç°ç«¯ç‚¹
- `/userinfo` - ç”¨æˆ·ä¿¡æ¯ç«¯ç‚¹
- `/auth/**` - è®¤è¯æœåŠ¡ç›´æ¥è·¯å¾„
- `/auth-service/**` - è®¤è¯æœåŠ¡ç½‘å…³è·¯å¾„
- `/api/auth/**` - è‡ªå®šä¹‰è®¤è¯API
- `/api/v1/auth/**` - ç‰ˆæœ¬åŒ–è®¤è¯API
- `/login/**`, `/register/**`, `/logout/**` - è®¤è¯ç›¸å…³é¡µé¢
- `/actuator/**` - å¥åº·æ£€æŸ¥å’Œç›‘æ§ç«¯ç‚¹

### 2. IPè®¿é—®æ§åˆ¶

- æ”¯æŒIPç™½åå•å’Œé»‘åå•
- CIDRç½‘æ®µåŒ¹é…
- é€šé…ç¬¦æ”¯æŒ

### 3. å¯ç–‘è¯·æ±‚æ£€æµ‹

è‡ªåŠ¨æ£€æµ‹å¹¶æ‹¦æˆªå¯ç–‘User-Agentï¼š

- æ¸—é€æµ‹è¯•å·¥å…· (sqlmap, nikto, nmapç­‰)
- æ¼æ´æ‰«æå™¨ (burp, zapç­‰)
- ç›®å½•çˆ†ç ´å·¥å…· (dirbuster, gobusterç­‰)

## éƒ¨ç½²è¯´æ˜

### ç¯å¢ƒè¦æ±‚

- JDK 17+
- Redis 6.0+
- Nacos 2.0+

### å¯åŠ¨å‘½ä»¤

```bash
# å¼€å‘ç¯å¢ƒ
java -jar gateway-0.0.1-SNAPSHOT.jar --spring.profiles.active=dev

# ç”Ÿäº§ç¯å¢ƒ
java -jar gateway-0.0.1-SNAPSHOT.jar \
  --spring.profiles.active=prod \
  --server.port=80
```

### å®¹å™¨åŒ–éƒ¨ç½²

```dockerfile
FROM openjdk:17-jre-slim
COPY target/gateway-0.0.1-SNAPSHOT.jar app.jar
EXPOSE 80
ENTRYPOINT ["java", "-jar", "/app.jar"]
```

## å¼€å‘æŒ‡å—

### æ–°å¢è¿‡æ»¤å™¨

1. ç»§æ‰¿ `AbstractGatewayFilterFactory`
2. å®ç° `apply` æ–¹æ³•
3. æ·»åŠ  `@Component` æ³¨è§£
4. åœ¨è·¯ç”±é…ç½®ä¸­ä½¿ç”¨

### è‡ªå®šä¹‰é™æµè§„åˆ™

åœ¨ `GatewayRateLimitManager.RATE_LIMIT_CONFIGS` ä¸­æ·»åŠ æ–°è§„åˆ™ï¼š

```java
"your-api:key",new RateLimitConfig(permits, windowSeconds)
```

### æ‰©å±•å®‰å…¨æ£€æŸ¥

åœ¨ `GatewaySecurityAccessManager` ä¸­æ·»åŠ æ–°çš„å®‰å…¨æ£€æŸ¥é€»è¾‘ã€‚

## æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

1. **Tokenè®¤è¯å¤±è´¥**
    - æ£€æŸ¥JWTé…ç½®
    - ç¡®è®¤è®¤è¯æœåŠ¡çŠ¶æ€
    - éªŒè¯Tokenæ ¼å¼

2. **é™æµå¼‚å¸¸**
    - æ£€æŸ¥Redisè¿æ¥
    - ç¡®è®¤é™æµé…ç½®
    - æŸ¥çœ‹Luaè„šæœ¬æ‰§è¡Œæ—¥å¿—

3. **è·¯ç”±ä¸ç”Ÿæ•ˆ**
    - æ£€æŸ¥NacosæœåŠ¡æ³¨å†Œ
    - ç¡®è®¤è·¯ç”±é…ç½®
    - éªŒè¯è´Ÿè½½å‡è¡¡å™¨çŠ¶æ€

### æ—¥å¿—çº§åˆ«

```yaml
logging:
  level:
    com.cloud.gateway: DEBUG
    org.springframework.cloud.gateway: DEBUG
    reactor.netty.http.server: DEBUG
```

## æ€§èƒ½è°ƒä¼˜

### JVMå‚æ•°å»ºè®®

```bash
-Xms512m -Xmx1024m 
-XX:+UseG1GC 
-XX:G1HeapRegionSize=16m 
-XX:+UseStringDeduplication
```

### è¿æ¥æ± é…ç½®

```yaml
spring:
  redis:
    lettuce:
      pool:
        max-active: 20
        max-idle: 10
        min-idle: 5
```

## ç‰ˆæœ¬å†å²

### v0.0.1-SNAPSHOT (2025-09-19)

- ğŸ”’ **å®‰å…¨ä¼˜åŒ–**: è®¤è¯æœåŠ¡æ‰€æœ‰ç«¯ç‚¹å®Œå…¨å¼€æ”¾ï¼Œæ— éœ€tokenéªŒè¯
- ğŸŒ¯ï¸ **è·¯ç”±ä¼˜åŒ–**: é‡æ„è·¯ç”±é…ç½®ï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åºï¼Œæ¶ˆé™¤è·¯å¾„å†²çªå’Œé‡å¤é…ç½®
- âœ… **OAuth2.1æ ‡å‡†**: ä¸¥æ ¼éµå¾ªOAuth2.1è§„èŒƒï¼Œæ‰€æœ‰è®¤è¯ç«¯ç‚¹å…¬å¼€è®¿é—®
- ğŸ”§ **é…ç½®ä¼˜åŒ–**: ç»Ÿä¸€è®¤è¯è·¯å¾„ç®¡ç†ï¼Œæ”¯æŒå¤šç§è·¯å¾„æ ¼å¼
- ğŸš« **æœåŠ¡å‘ç°**: ç¦ç”¨è‡ªåŠ¨æœåŠ¡å‘ç°ï¼Œä¼˜å…ˆæ‰‹åŠ¨è·¯ç”±é…ç½®æé«˜å¯é¢„æµ‹æ€§
- ğŸ“ **æ–‡æ¡£æ›´æ–°**: è¯¦ç»†è®°å½•å®‰å…¨ç­–ç•¥å’Œè·¯ç”±ä¼˜å…ˆçº§é…ç½®

### v0.0.1-SNAPSHOT (2025-01-12)

- ğŸ”¥ **é‡å¤§é‡æ„**: ç§»é™¤å¯¹common-moduleçš„ä¾èµ–
- âœ¨ æ–°å¢ç½‘å…³ä¸“ç”¨çš„å®‰å…¨ç®¡ç†ç»„ä»¶
- âœ¨ ä¼˜åŒ–é™æµå’Œç›‘æ§æœºåˆ¶
- ğŸ› ä¿®å¤å“åº”å¼ç¼–ç¨‹æ¨¡å‹çš„å…¼å®¹æ€§é—®é¢˜
- ğŸ“ å®Œå–„æ–‡æ¡£å’Œé…ç½®è¯´æ˜

---

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿæˆ–æäº¤Issueã€‚
