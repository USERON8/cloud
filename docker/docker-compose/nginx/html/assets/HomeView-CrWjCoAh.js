import{F as e,M as t,Nt as n,X as r,b as i,d as a,f as o,it as s,m as c,p as l,t as u,u as d,v as f,y as p}from"./_plugin-vue_export-helper-7ehu3f-T.js";import"./http-BtjM28wp.js";import{t as m}from"./css-DepZNlzm.js";import{t as h}from"./css-CyAko9J2.js";import{n as g}from"./product-ffukrlS4.js";import{c as _}from"./order-B5XGFXEa.js";var v={class:`grid`},y={class:`glass-card hero`},b={class:`stats`},x={class:`glass-card metric`},S={class:`glass-card metric`},C={class:`glass-card metric`},w=u(i({__name:`HomeView`,setup(i){let u=s(!1),w=s(null),T=s(null),E=s(null),D=s(``),O=d(()=>!T.value||!E.value?`0%`:`${Math.round(E.value/T.value*100)}%`);async function k(){u.value=!0,D.value=``;let[e,t]=await Promise.allSettled([g({page:1,size:1}),_({page:1,size:20})]);e.status===`fulfilled`?w.value=e.value.total:(w.value=null,D.value=e.reason instanceof Error?e.reason.message:`Products API unavailable`),t.status===`fulfilled`?(T.value=t.value.total,E.value=t.value.records.filter(e=>e.status===0).length):(T.value=null,E.value=null,D.value=t.reason instanceof Error?t.reason.message:`Orders API unavailable`),u.value=!1}return t(()=>{k()}),(t,i)=>{var s,d;let g=m,_=h;return e(),c(`div`,v,[a(`section`,y,[i[1]||(i[1]=a(`div`,{class:`hero-copy`},[a(`p`,{class:`eyebrow`},`Daily Briefing`),a(`h3`,null,`Operations Snapshot`),a(`p`,{class:`muted`},`Real-time values from product and order services.`)],-1)),p(g,{loading:u.value,round:``,type:`primary`,onClick:k},{default:r(()=>[...i[0]||(i[0]=[a(`span`,{class:`btn-wrap`},[a(`svg`,{viewBox:`0 0 24 24`,"aria-hidden":`true`},[a(`path`,{d:`M19 6v5h-5M5 18v-5h5M19 11a7 7 0 0 0-12-3M5 13a7 7 0 0 0 12 3`})]),f(` Refresh `)],-1)])]),_:1},8,[`loading`])]),a(`section`,b,[a(`article`,x,[i[2]||(i[2]=a(`div`,{class:`metric-title`},[a(`span`,{class:`metric-icon`},[a(`svg`,{viewBox:`0 0 24 24`,"aria-hidden":`true`},[a(`path`,{d:`M4 7.5 12 4l8 3.5-8 3.5L4 7.5Zm0 3.5 8 3.5 8-3.5M4 14.5 12 18l8-3.5`})])]),a(`p`,null,`Total products`)],-1)),a(`strong`,null,n((s=w.value)==null?`--`:s),1)]),a(`article`,S,[i[3]||(i[3]=a(`div`,{class:`metric-title`},[a(`span`,{class:`metric-icon`},[a(`svg`,{viewBox:`0 0 24 24`,"aria-hidden":`true`},[a(`path`,{d:`M6 5h10l3 3v11H6V5Zm10 0v3h3M9 12h6M9 15h6`})])]),a(`p`,null,`Total orders`)],-1)),a(`strong`,null,n((d=T.value)==null?`--`:d),1)]),a(`article`,C,[i[4]||(i[4]=a(`div`,{class:`metric-title`},[a(`span`,{class:`metric-icon`},[a(`svg`,{viewBox:`0 0 24 24`,"aria-hidden":`true`},[a(`path`,{d:`M4 12h16M12 4v16M6.7 6.7l10.6 10.6M17.3 6.7 6.7 17.3`})])]),a(`p`,null,`Pending payment ratio`)],-1)),a(`strong`,null,n(O.value),1)])]),D.value?(e(),o(_,{key:0,closable:!1,"show-icon":``,type:`warning`,title:D.value},null,8,[`title`])):l(``,!0)])}}}),[[`__scopeId`,`data-v-1dc09cbf`]]);export{w as default};