import{t as e}from"./css-E3i9oLPS.js";import{P as t,Y as n,_ as r,a as i,d as a,j as o,m as s,p as c,rt as l,t as u,v as d,y as f}from"./_plugin-vue_export-helper-Db-PtwND.js";import{s as p}from"./session-C5oAodxY.js";import{n as m,r as h}from"./index-COPDY7zS.js";import{t as g}from"./message-CbR1IZY7.js";var _={class:`oauth-page`},v={class:`glass-card oauth-card`},y=u(f({__name:`OAuthSuccessView`,setup(u){let f=m(),y=h(),b=l(!0),x=l(!1);function S(e){let t=e.replace(/\+/g,`%20`),n=decodeURIComponent(t);return JSON.parse(n)}o(async()=>{let e=f.query.data;if(typeof e!=`string`||e.length===0){x.value=!0,b.value=!1;return}try{p(S(e)),g.success(`GitHub authentication succeeded.`),await y.replace(`/home`)}catch(e){x.value=!0;let t=e instanceof Error?e.message:`Failed to process GitHub login result`;g.error(t)}finally{b.value=!1}});async function C(){await y.replace(`/login`)}return(o,l)=>{let u=e;return t(),s(`div`,_,[a(`section`,v,[b.value?(t(),s(i,{key:0},[l[0]||(l[0]=a(`p`,{class:`eyebrow`},`GitHub`,-1)),l[1]||(l[1]=a(`h1`,null,`Processing sign-in`,-1)),l[2]||(l[2]=a(`p`,{class:`muted`},`Please wait while we finish your authentication.`,-1))],64)):x.value?(t(),s(i,{key:1},[l[4]||(l[4]=a(`p`,{class:`eyebrow`},`GitHub`,-1)),l[5]||(l[5]=a(`h1`,null,`Authentication failed`,-1)),l[6]||(l[6]=a(`p`,{class:`muted`},`Unable to read GitHub login result. Please try again.`,-1)),d(u,{round:``,type:`primary`,onClick:C},{default:n(()=>[...l[3]||(l[3]=[r(`Back to Sign In`,-1)])]),_:1})],64)):c(``,!0)])])}}}),[[`__scopeId`,`data-v-7938d119`]]);export{y as default};