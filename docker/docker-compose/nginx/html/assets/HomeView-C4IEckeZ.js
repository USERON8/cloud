import{t as e}from"./css-gYsclK9r.js";import{F as t,M as n,Nt as r,X as i,b as a,d as o,f as s,it as c,m as l,p as u,t as d,u as f,v as p,y as m}from"./_plugin-vue_export-helper-CS_DzLMV.js";import"./session-ki_suUwh.js";import{t as h}from"./css-B4r8G6Fv.js";import"./http-CgWw7_UJ.js";import{n as g}from"./product-DLzNnWWs.js";import{c as _}from"./order-C9hfqchT.js";var v={class:`grid`},y={class:`glass-card hero`},b={class:`stats`},x={class:`glass-card metric`},S={class:`glass-card metric`},C={class:`glass-card metric`},w=d(a({__name:`HomeView`,setup(a){let d=c(!1),w=c(null),T=c(null),E=c(null),D=c(``),O=f(()=>!T.value||!E.value?`0%`:`${Math.round(E.value/T.value*100)}%`);async function k(){d.value=!0,D.value=``;let[e,t]=await Promise.allSettled([g({page:1,size:1}),_({page:1,size:20})]);e.status===`fulfilled`?w.value=e.value.total:(w.value=null,D.value=e.reason instanceof Error?e.reason.message:`Products API unavailable`),t.status===`fulfilled`?(T.value=t.value.total,E.value=t.value.records.filter(e=>e.status===0).length):(T.value=null,E.value=null,D.value=t.reason instanceof Error?t.reason.message:`Orders API unavailable`),d.value=!1}return n(()=>{k()}),(n,a)=>{var c,f;let g=e,_=h;return t(),l(`div`,v,[o(`section`,y,[a[1]||(a[1]=o(`div`,{class:`hero-copy`},[o(`p`,{class:`eyebrow`},`Daily Briefing`),o(`h3`,null,`Operations Snapshot`),o(`p`,{class:`muted`},`Real-time values from product and order services.`)],-1)),m(g,{loading:d.value,round:``,type:`primary`,onClick:k},{default:i(()=>[...a[0]||(a[0]=[o(`span`,{class:`btn-wrap`},[o(`svg`,{viewBox:`0 0 24 24`,"aria-hidden":`true`},[o(`path`,{d:`M19 6v5h-5M5 18v-5h5M19 11a7 7 0 0 0-12-3M5 13a7 7 0 0 0 12 3`})]),p(` Refresh `)],-1)])]),_:1},8,[`loading`])]),o(`section`,b,[o(`article`,x,[a[2]||(a[2]=o(`div`,{class:`metric-title`},[o(`span`,{class:`metric-icon`},[o(`svg`,{viewBox:`0 0 24 24`,"aria-hidden":`true`},[o(`path`,{d:`M4 7.5 12 4l8 3.5-8 3.5L4 7.5Zm0 3.5 8 3.5 8-3.5M4 14.5 12 18l8-3.5`})])]),o(`p`,null,`Total products`)],-1)),o(`strong`,null,r((c=w.value)==null?`--`:c),1)]),o(`article`,S,[a[3]||(a[3]=o(`div`,{class:`metric-title`},[o(`span`,{class:`metric-icon`},[o(`svg`,{viewBox:`0 0 24 24`,"aria-hidden":`true`},[o(`path`,{d:`M6 5h10l3 3v11H6V5Zm10 0v3h3M9 12h6M9 15h6`})])]),o(`p`,null,`Total orders`)],-1)),o(`strong`,null,r((f=T.value)==null?`--`:f),1)]),o(`article`,C,[a[4]||(a[4]=o(`div`,{class:`metric-title`},[o(`span`,{class:`metric-icon`},[o(`svg`,{viewBox:`0 0 24 24`,"aria-hidden":`true`},[o(`path`,{d:`M4 12h16M12 4v16M6.7 6.7l10.6 10.6M17.3 6.7 6.7 17.3`})])]),o(`p`,null,`Pending payment ratio`)],-1)),o(`strong`,null,r(O.value),1)])]),D.value?(t(),s(_,{key:0,closable:!1,"show-icon":``,type:`warning`,title:D.value},null,8,[`title`])):u(``,!0)])}}}),[[`__scopeId`,`data-v-1dc09cbf`]]);export{w as default};