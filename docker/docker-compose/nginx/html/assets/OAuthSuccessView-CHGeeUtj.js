import{t as e}from"./css-gYsclK9r.js";import{F as t,M as n,X as r,a as i,b as a,d as o,it as s,m as c,p as l,t as u,v as d,y as f}from"./_plugin-vue_export-helper-CS_DzLMV.js";import{c as p}from"./session-ki_suUwh.js";import{n as m,r as h}from"./index-D2O9aft2.js";import{t as g}from"./message-DyMrUQQL.js";var _={class:`oauth-page`},v={class:`glass-card oauth-card`},y=u(a({__name:`OAuthSuccessView`,setup(a){let u=m(),y=h(),b=s(!0),x=s(!1);function S(e){let t=e.replace(/\+/g,`%20`),n=decodeURIComponent(t);return JSON.parse(n)}n(async()=>{let e=u.query.data;if(typeof e!=`string`||e.length===0){x.value=!0,b.value=!1;return}try{p(S(e)),g.success(`GitHub authentication succeeded.`),await y.replace(`/app/home`)}catch(e){x.value=!0;let t=e instanceof Error?e.message:`Failed to process GitHub login result`;g.error(t)}finally{b.value=!1}});async function C(){await y.replace(`/login`)}return(n,a)=>{let s=e;return t(),c(`div`,_,[o(`section`,v,[b.value?(t(),c(i,{key:0},[a[0]||(a[0]=o(`p`,{class:`eyebrow`},`GitHub`,-1)),a[1]||(a[1]=o(`h1`,null,`Processing sign-in`,-1)),a[2]||(a[2]=o(`p`,{class:`muted`},`Please wait while we finish your authentication.`,-1))],64)):x.value?(t(),c(i,{key:1},[a[4]||(a[4]=o(`p`,{class:`eyebrow`},`GitHub`,-1)),a[5]||(a[5]=o(`h1`,null,`Authentication failed`,-1)),a[6]||(a[6]=o(`p`,{class:`muted`},`Unable to read GitHub login result. Please try again.`,-1)),f(s,{round:``,type:`primary`,onClick:C},{default:r(()=>[...a[3]||(a[3]=[d(`Back to Sign In`,-1)])]),_:1})],64)):l(``,!0)])])}}}),[[`__scopeId`,`data-v-af5c6999`]]);export{y as default};